<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>rostopic command - ATOM Wiki</title>
                

        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

                <link rel="icon" href="../../../favicon.svg">
                        <link rel="shortcut icon" href="../../../favicon.png">
                <link rel="stylesheet" href="../../../css/variables.css">
        <link rel="stylesheet" href="../../../css/general.css">
        <link rel="stylesheet" href="../../../css/chrome.css">
                <link rel="stylesheet" href="../../../css/print.css" media="print">
        
        <!-- Fonts -->
        <link rel="stylesheet" href="../../../FontAwesome/css/font-awesome.css">
                <link rel="stylesheet" href="../../../fonts/fonts.css">
        
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../highlight.css">
        <link rel="stylesheet" href="../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        
            </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="../../../main-page.html"><strong aria-hidden="true">1.</strong> ATOM Wiki</a></li><li class="chapter-item "><a href="../../../setup/tools-setup.html"><strong aria-hidden="true">2.</strong> Tools setup</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../setup/ubuntu.html"><strong aria-hidden="true">2.1.</strong> Ubuntu</a></li><li class="chapter-item "><a href="../../../setup/ros.html"><strong aria-hidden="true">2.2.</strong> ROS</a></li><li class="chapter-item "><a href="../../../setup/ros-pi.html"><strong aria-hidden="true">2.3.</strong> ROS Pi</a></li><li class="chapter-item "><a href="../../../setup/px4.html"><strong aria-hidden="true">2.4.</strong> PX4</a></li><li class="chapter-item "><a href="../../../setup/virtualenv.html"><strong aria-hidden="true">2.5.</strong> VirtualEnv</a></li></ol></li><li class="chapter-item "><a href="../../../tools/tools.html"><strong aria-hidden="true">3.</strong> Know your tools</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../tools/git.html"><strong aria-hidden="true">3.1.</strong> Git</a></li><li class="chapter-item "><a href="../../../tools/linux/linux.html"><strong aria-hidden="true">3.2.</strong> Linux</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../tools/linux/file-system.html"><strong aria-hidden="true">3.2.1.</strong> File System</a></li><li class="chapter-item "><a href="../../../tools/linux/basic-commands.html"><strong aria-hidden="true">3.2.2.</strong> Basic Commands</a></li><li class="chapter-item "><a href="../../../tools/linux/file-permissions.html"><strong aria-hidden="true">3.2.3.</strong> File Permissions</a></li><li class="chapter-item "><a href="../../../tools/linux/shell-scripting.html"><strong aria-hidden="true">3.2.4.</strong> Shell Scripting</a></li></ol></li><li class="chapter-item "><a href="../../../tools/python.html"><strong aria-hidden="true">3.3.</strong> Python</a></li></ol></li><li class="chapter-item "><a href="../../../sel-task/selection-task.html"><strong aria-hidden="true">4.</strong> Selection Task</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../sel-task/problem-statement.html"><strong aria-hidden="true">4.1.</strong> Problem statement</a></li><li class="chapter-item "><a href="../../../sel-task/procedure.html"><strong aria-hidden="true">4.2.</strong> Procedure</a></li><li class="chapter-item "><a href="../../../sel-task/hints.html"><strong aria-hidden="true">4.3.</strong> Hints</a></li><li class="chapter-item "><a href="../../../sel-task/submissions.html"><strong aria-hidden="true">4.4.</strong> Submissions</a></li></ol></li><li class="chapter-item expanded "><a href="../../../ros/ros.html"><strong aria-hidden="true">5.</strong> Intro To ROS</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../ros/installation.html"><strong aria-hidden="true">5.1.</strong> ROS installation</a></li><li class="chapter-item "><a href="../../../ros/catkin_ws.html"><strong aria-hidden="true">5.2.</strong> Catkin Workspace</a></li><li class="chapter-item "><a href="../../../ros/package/package.html"><strong aria-hidden="true">5.3.</strong> ROS Packages</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../ros/package/create.html"><strong aria-hidden="true">5.3.1.</strong> Create a ROS package</a></li></ol></li><li class="chapter-item "><a href="../../../ros/node/node.html"><strong aria-hidden="true">5.4.</strong> ROS Nodes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../ros/node/create.html"><strong aria-hidden="true">5.4.1.</strong> Creating a ROS Node</a></li><li class="chapter-item "><a href="../../../ros/node/rosrun.html"><strong aria-hidden="true">5.4.2.</strong> Command: rosrun</a></li><li class="chapter-item "><a href="../../../ros/node/rosnode.html"><strong aria-hidden="true">5.4.3.</strong> Command: rosnode</a></li></ol></li><li class="chapter-item "><a href="../../../ros/master/master.html"><strong aria-hidden="true">5.5.</strong> ROS Master</a></li><li class="chapter-item "><a href="../../../ros/master/param-server.html"><strong aria-hidden="true">5.6.</strong> ROS Parameter Server</a></li><li class="chapter-item "><a href="../../../ros/examples/example.html"><strong aria-hidden="true">5.7.</strong> Examples</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../ros/examples/eg1.html"><strong aria-hidden="true">5.7.1.</strong> Example #1: ROS Node to Get and Set Parameters</a></li></ol></li><li class="chapter-item "><a href="../../../ros/launch/launch.html"><strong aria-hidden="true">5.8.</strong> ROS Launch Files</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../ros/launch/create.html"><strong aria-hidden="true">5.8.1.</strong> Create a ROS Launch file</a></li><li class="chapter-item "><a href="../../../ros/launch/eg1.html"><strong aria-hidden="true">5.8.2.</strong> Example 1: Launch two ROS Nodes</a></li><li class="chapter-item "><a href="../../../ros/launch/eg2.html"><strong aria-hidden="true">5.8.3.</strong> Example 2: Launch turtle in forest</a></li><li class="chapter-item "><a href="../../../ros/launch/eg3.html"><strong aria-hidden="true">5.8.4.</strong> Example 3: Load YAML</a></li></ol></li><li class="chapter-item expanded "><a href="../../../ros/comm/comm.html"><strong aria-hidden="true">5.9.</strong> ROS Communication</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../ros/comm/topics/topics.html"><strong aria-hidden="true">5.9.1.</strong> ROS Topics</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../../ros/comm/topics/rostopic.html" class="active"><strong aria-hidden="true">5.9.1.1.</strong> rostopic command</a></li></ol></li></ol></li></ol></li><li class="chapter-item "><a href="../../../projects/projects.html"><strong aria-hidden="true">6.</strong> Projects</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../projects/curve-tracer/curve-tracer.html"><strong aria-hidden="true">6.1.</strong> Curve Tracer</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../projects/curve-tracer/installation.html"><strong aria-hidden="true">6.1.1.</strong> Installation</a></li></ol></li><li class="chapter-item "><a href="../../../projects/a-teleop/a-teleop.html"><strong aria-hidden="true">6.2.</strong> Assistive Teleop</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../projects/a-teleop/installation.html"><strong aria-hidden="true">6.2.1.</strong> Installation</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../../general/main-site.html"><strong aria-hidden="true">7.</strong> Editing the ATOM main site</a></li><li class="chapter-item "><a href="../../../general/edit-wiki.html"><strong aria-hidden="true">8.</strong> Editing this wiki</a></li><li class="chapter-item "><a href="../../../general/access-repo.html"><strong aria-hidden="true">9.</strong> Using the access repo</a></li><li class="chapter-item "><a href="../../../archives/archives.html"><strong aria-hidden="true">10.</strong> Archives</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../archives/sel-task2021/selection-task.html"><strong aria-hidden="true">10.1.</strong> Selection Task</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../archives/sel-task2021/problem-statement.html"><strong aria-hidden="true">10.1.1.</strong> Problem statement</a></li><li class="chapter-item "><a href="../../../archives/sel-task2021/procedure.html"><strong aria-hidden="true">10.1.2.</strong> Procedure</a></li><li class="chapter-item "><a href="../../../archives/sel-task2021/hints.html"><strong aria-hidden="true">10.1.3.</strong> Hints</a></li><li class="chapter-item "><a href="../../../archives/sel-task2021/submissions.html"><strong aria-hidden="true">10.1.4.</strong> Submissions</a></li></ol></li></ol></li></ol>            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                                                <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                                            </div>

                    <h1 class="menu-title">ATOM Wiki</h1>

                    <div class="right-buttons">
                                                <a href="../../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                                                                        
                    </div>
                </div>

                                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="rostopic-command"><a class="header" href="#rostopic-command">rostopic command</a></h1>
<ul>
<li>
<p>rostopic contains the rostopic command-line tool for displaying debug information about ROS Topics, including publishers, subscribers, publishing rate, and ROS Messages.</p>
</li>
<li>
<p>Use</p>
</li>
</ul>
<pre><code class="language-shell">rostopic --h
</code></pre>
<p>for getting the rostopic command help.</p>
<ul>
<li>
<h2 id="list"><a class="header" href="#list">list</a></h2>
</li>
<li>
<p>rostopic list returns a list of all topics currently subscribed to and published.</p>
</li>
<li>
<p>In one terminal run</p>
</li>
</ul>
<pre><code class="language-shell">roscore
</code></pre>
<ul>
<li>In the other one, run </li>
</ul>
<pre><code class="language-shell">rostopic list
</code></pre>
<p>The above should give you a list of the default ROS topics</p>
<ul>
<li>For this tutorial, we will also use turtlesim. Please run in a new terminal:</li>
</ul>
<pre><code class="language-shell">rosrun turtlesim turtlesim_node
</code></pre>
<p>You will see a small blue box with probably a diﬀerent turtle within it.</p>
<ul>
<li>
<p>Now, check again the rostopic list command in another terminal and observe the topics being subscribed or published.</p>
</li>
<li>
<h2 id="type-info-and-rosmsg"><a class="header" href="#type-info-and-rosmsg">type, info and rosmsg</a></h2>
</li>
</ul>
<h2 id="type"><a class="header" href="#type">type</a></h2>
<p>Communication on topics happens by sending ROS messages between nodes. To communicate, the
publisher and subscriber must send and receive the same type of message. This means that a topic
type is deﬁned by the message type published on it. The type of the message sent on a topic can be
determined using rostopic type .</p>
<pre><code class="language-shell">rostopic type [topic_name]
</code></pre>
<p>From the previous section, we know that the turtlesim node has 3 topics being
published/subscribed.</p>
<ul>
<li>/turtle1/cmd_vel</li>
<li>/turtle1/pose</li>
<li>/turtle1/color_sensor</li>
</ul>
<p>Lets consider the topics /turtle1/cmd_vel . Enter the following command to get the message type.</p>
<pre><code class="language-shell">rostopic type /turtle1/cmd_vel
</code></pre>
<h2 id="rosmsg"><a class="header" href="#rosmsg">rosmsg</a></h2>
<ul>
<li>As you can observe the type of message associated with /turtle1/cmd_vel is geometry_msgs/Twist . let's look into more detail of te message, using</li>
</ul>
<pre><code class="language-shell">rosmsg show geometry_msgs/Twist
</code></pre>
<ul>
<li>
<p>A message consists of two parts, ﬁeld and constant. Simply, ﬁelds is the datatype and constants are the representative value From the above ﬁgure, you can observe that these ﬁeld and constants are displayed twice. However, both of these sections, are separate since they have a diﬀerent header or diﬀerent sub-information from the same robot. The 2 headers seen are...</p>
</li>
<li>
<p><code>geometry_msgs/Vector3 linear</code> : Describes the linear velocities of all the 3 axes.</p>
</li>
<li>
<p><code>geometry_msgs/Vector3 angular</code> : While this header describes, angular velocities of all 3 axes.</p>
</li>
<li>
<h2 id="info"><a class="header" href="#info">info</a></h2>
</li>
<li>
<p>This command provides a little more detail about topics then type argument.</p>
</li>
</ul>
<pre><code class="language-shell">rostopic info /turtle1/cmd_vel
</code></pre>
<ul>
<li>
<p>The output of this command will yield both the message type and the nodes which are publishing it or subscribing it.</p>
</li>
<li>
<h2 id="pub"><a class="header" href="#pub">pub</a></h2>
<ul>
<li><code>rostopic pub</code> publishes data on to a topic currently advertised.</li>
<li>Usage</li>
</ul>
<pre><code class="language-shell">rostopic pub [topic] [msg_type] [args]
</code></pre>
<ul>
<li>Lets move the turtle inside the sim window</li>
</ul>
<pre><code class="language-shell">rostopic pub /turtle1/cmd_vel geometry_msgs/Twist 
&quot;linear:
      x: 0.0
      y: 0.0
      z: 0.0
 angular:
      x: 0.0
      y: 0.0
      z: 0.0&quot;

</code></pre>
</li>
<li>
<p>Now that we have the complete blank (with all constants as zeros) pub command for /turtle1 /cmd_vel , let's rotate it about its z-axis (Yep! the Omega variable).</p>
</li>
</ul>
<pre><code class="language-shell">rostopic pub /turtle1/cmd_vel geometry_msgs/Twist &quot;linear:
x: 0.0
y: 0.0
z: 0.0
angular:
x: 0.0
y: 0.0
z: 0.5
</code></pre>
<ul>
<li>
<p>After executing the above command you will see the turtle rotating clockwise.</p>
</li>
<li>
<p>However, the turtle only rotated for a while and not continuously. This is because our pub command was only sent once. So, to keep the turtle rotating we need to keep sending our pub command repeatedly. And to do so, we'll use the -r argument with pub command.</p>
</li>
<li>
<p>The following command is used to publish a steady stream of commands at a rate of 10Hz.</p>
</li>
</ul>
<pre><code class="language-shell">rostopic pub -r 10 /turtle1/cmd_vel geometry_msgs/Twist &quot;linear:
x: 0.0
y: 0.0
z: 0.0
angular:
x: 0.0
y: 0.0
z: 0.5&quot;
</code></pre>
<ul>
<li>
<p>You can always know more about pub command by simply typing rostopic pub --help .</p>
</li>
<li>
<h2 id="echo"><a class="header" href="#echo">echo</a></h2>
</li>
<li>
<p>rostopic echo shows the data published on a topic.</p>
</li>
<li>
<p>Usage</p>
</li>
</ul>
<pre><code class="language-shell">rostopic echo [topic]
</code></pre>
<ul>
<li>In the earlier section, at the end, we used -r argument to keep it rotation at an angular velocity of 0.5 units. But what if the velocity is unknown and we need this information as feedback to control the motion of turtle???</li>
<li>Our desire here is to get the pose information or simply one or all of the turtle's x,y, and z values w.r.t to the world.</li>
<li>But let's see if there is any data being published by the turtlesim node in the ﬁrst place. To do so, we'll use the following  command...</li>
</ul>
<pre><code class="language-shell">rostopic list -p
</code></pre>
<ul>
<li>From the -p we know 2 topic is being published</li>
</ul>
<pre><code class="language-shell">/turtle1/color_sensor
/turtle1/pose
</code></pre>
<ul>
<li>
<p>Let's see more into the /turtle1/pose topic.</p>
</li>
<li>
<p>Luckily the pose information of turtle from the turtlesim is being published on the topic /turtle1/pose</p>
</li>
<li>
<p>To display the pose data, enter the following command...</p>
</li>
</ul>
<pre><code class="language-shell">rostopic echo /turtle1/pose
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                                                    <a rel="prev" href="../../../ros/comm/topics/topics.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        
                                                    <a rel="next" href="../../../projects/projects.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                                    <a rel="prev" href="../../../ros/comm/topics/topics.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                
                                    <a rel="next" href="../../../projects/projects.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                            </nav>

        </div>

        
        
        
                <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        
        
                <script src="../../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../searcher.js" type="text/javascript" charset="utf-8"></script>
        
        <script src="../../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        
        
    </body>
</html>
