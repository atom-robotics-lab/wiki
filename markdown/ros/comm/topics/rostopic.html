<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>rostopic command &mdash; A.T.O.M&#39;s Wiki 0.3.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css?v=76b2166b" />

  
    <link rel="shortcut icon" href="https://github.com/atom-robotics-lab/assets/blob/main/logo_with_background.jpg?raw=true"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../../_static/documentation_options.js?v=71d9d8e6"></script>
        <script src="../../../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../../../../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Selection Task 2024-25" href="../../../selectiontask24/selection_task24.html" />
    <link rel="prev" title="ROS Topics" href="topics.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            A.T.O.M's Wiki
              <img src="../../../../_static/logo_bg.jpg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                0.3.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tool_setup/tool_setup.html">Tool Setup</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../ros.html">Intro To ROS</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../ROS_installation/ROS_index.html">ROS 1 Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../catkin_ws.html">Create Workspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../package/package.html">ROS Package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../node/node.html">ROS Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../master/master.html">ROS Master</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/example.html">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../launch/launch.html">ROS Launch Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../comm.html">ROS Communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="topics.html">ROS Topics</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">rostopic command</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#type">type</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rosmsg">rosmsg</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../selectiontask24/selection_task24.html">Selection Task 2024-25</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../general/access-repo.html">Using the access repo</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../archives/previous_tasks.html">Previous Tasks</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../projects/projects.html">Projects</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://linktr.ee/a.t.o.m_robotics_lab">Socials</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">A.T.O.M's Wiki</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../ros.html">Intro To ROS</a></li>
      <li class="breadcrumb-item active">rostopic command</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/atom-robotics-lab/wiki/blob/main/markdown/ros/comm/topics/rostopic.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="rostopic-command">
<h1>rostopic command<a class="headerlink" href="#rostopic-command" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p>rostopic contains the rostopic command-line tool for displaying debug
information about ROS Topics, including publishers, subscribers,
publishing rate, and ROS Messages.</p></li>
<li><p>Use</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>rostopic<span class="w"> </span>--h
</pre></div>
</div>
<p>for getting the rostopic command help.</p>
<ul>
<li><p class="rubric" id="rostopic-list">rostopic-list</p>
</li>
<li><p>rostopic list returns a list of all topics currently subscribed to
and published.</p></li>
<li><p>In one terminal run</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>roscore
</pre></div>
</div>
<ul class="simple">
<li><p>In the other one, run</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>rostopic<span class="w"> </span>list
</pre></div>
</div>
<p>The above should give you a list of the default ROS topics</p>
<ul class="simple">
<li><p>For this tutorial, we will also use turtlesim. Please run in a new
terminal:</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>rosrun<span class="w"> </span>turtlesim<span class="w"> </span>turtlesim_node
</pre></div>
</div>
<p>You will see a small blue box with probably a diﬀerent turtle within it.</p>
<ul>
<li><p>Now, check again the rostopic list command in another terminal and
observe the topics being subscribed or published.</p></li>
<li><p class="rubric" id="type-info-and-rosmsg">type, info and rosmsg</p>
</li>
</ul>
<section id="type">
<h2>type<a class="headerlink" href="#type" title="Link to this heading"></a></h2>
<p>Communication on topics happens by sending ROS messages between nodes.
To communicate, the publisher and subscriber must send and receive the
same type of message. This means that a topic type is deﬁned by the
message type published on it. The type of the message sent on a topic
can be determined using rostopic type .</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>rostopic<span class="w"> </span><span class="nb">type</span><span class="w"> </span><span class="o">[</span>topic_name<span class="o">]</span>
</pre></div>
</div>
<p>From the previous section, we know that the turtlesim node has 3 topics
being published/subscribed.</p>
<ul class="simple">
<li><p>/turtle1/cmd_vel</p></li>
<li><p>/turtle1/pose</p></li>
<li><p>/turtle1/color_sensor</p></li>
</ul>
<p>Lets consider the topics /turtle1/cmd_vel . Enter the following command
to get the message type.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>rostopic<span class="w"> </span><span class="nb">type</span><span class="w"> </span>/turtle1/cmd_vel
</pre></div>
</div>
</section>
<section id="rosmsg">
<h2>rosmsg<a class="headerlink" href="#rosmsg" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>As you can observe the type of message associated with
/turtle1/cmd_vel is geometry_msgs/Twist . let’s look into more detail
of te message, using</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>rosmsg<span class="w"> </span>show<span class="w"> </span>geometry_msgs/Twist
</pre></div>
</div>
<ul>
<li><p>A message consists of two parts, ﬁeld and constant. Simply, ﬁelds is
the datatype and constants are the representative value From the
above ﬁgure, you can observe that these ﬁeld and constants are
displayed twice. However, both of these sections, are separate since
they have a diﬀerent header or diﬀerent sub-information from the same
robot. The 2 headers seen are…</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geometry_msgs/Vector3</span> <span class="pre">linear</span></code> : Describes the linear velocities of
all the 3 axes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">geometry_msgs/Vector3</span> <span class="pre">angular</span></code> : While this header describes,
angular velocities of all 3 axes.</p></li>
<li><p class="rubric" id="rostopic-info">rostopic-info</p>
</li>
<li><p>This command provides a little more detail about topics then type
argument.</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>rostopic<span class="w"> </span>info<span class="w"> </span>/turtle1/cmd_vel
</pre></div>
</div>
<ul>
<li><p>The output of this command will yield both the message type and the
nodes which are publishing it or subscribing it.</p></li>
<li><p class="rubric" id="pub">pub</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rostopic</span> <span class="pre">pub</span></code> publishes data on to a topic currently
advertised.</p></li>
<li><p>Usage</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>rostopic<span class="w"> </span>pub<span class="w"> </span><span class="o">[</span>topic<span class="o">]</span><span class="w"> </span><span class="o">[</span>msg_type<span class="o">]</span><span class="w"> </span><span class="o">[</span>args<span class="o">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Lets move the turtle inside the sim window</p></li>
</ul>
<p>```shell rostopic pub /turtle1/cmd_vel geometry_msgs/Twist “linear:
x: 0.0 y: 0.0 z: 0.0 angular: x: 0.0 y: 0.0 z: 0.0”</p>
</li>
<li><p>Now that we have the complete blank (with all constants as zeros) pub
command for /turtle1 /cmd_vel , let’s rotate it about its z-axis
(Yep! the Omega variable).</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>rostopic<span class="w"> </span>pub<span class="w"> </span>/turtle1/cmd_vel<span class="w"> </span>geometry_msgs/Twist<span class="w"> </span><span class="s2">&quot;linear:</span>
<span class="s2">x: 0.0</span>
<span class="s2">y: 0.0</span>
<span class="s2">z: 0.0</span>
<span class="s2">angular:</span>
<span class="s2">x: 0.0</span>
<span class="s2">y: 0.0</span>
<span class="s2">z: 0.5</span>
</pre></div>
</div>
<ul class="simple">
<li><p>After executing the above command you will see the turtle rotating
clockwise.</p></li>
<li><p>However, the turtle only rotated for a while and not continuously.
This is because our pub command was only sent once. So, to keep the
turtle rotating we need to keep sending our pub command repeatedly.
And to do so, we’ll use the -r argument with pub command.</p></li>
<li><p>The following command is used to publish a steady stream of commands
at a rate of 10Hz.</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>rostopic<span class="w"> </span>pub<span class="w"> </span>-r<span class="w"> </span><span class="m">10</span><span class="w"> </span>/turtle1/cmd_vel<span class="w"> </span>geometry_msgs/Twist<span class="w"> </span><span class="s2">&quot;linear:</span>
<span class="s2">x: 0.0</span>
<span class="s2">y: 0.0</span>
<span class="s2">z: 0.0</span>
<span class="s2">angular:</span>
<span class="s2">x: 0.0</span>
<span class="s2">y: 0.0</span>
<span class="s2">z: 0.5&quot;</span>
</pre></div>
</div>
<ul>
<li><p>You can always know more about pub command by simply typing rostopic
pub –help .</p></li>
<li><p class="rubric" id="echo">echo</p>
</li>
<li><p>rostopic echo shows the data published on a topic.</p></li>
<li><p>Usage</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>rostopic<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="o">[</span>topic<span class="o">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p>In the earlier section, at the end, we used -r argument to keep it
rotation at an angular velocity of 0.5 units. But what if the
velocity is unknown and we need this information as feedback to
control the motion of turtle???</p></li>
<li><p>Our desire here is to get the pose information or simply one or all
of the turtle’s x,y, and z values w.r.t to the world.</p></li>
<li><p>But let’s see if there is any data being published by the turtlesim
node in the ﬁrst place. To do so, we’ll use the following command…</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>rostopic<span class="w"> </span>list<span class="w"> </span>-p
</pre></div>
</div>
<ul class="simple">
<li><p>From the -p we know 2 topic is being published</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>/turtle1/color_sensor
/turtle1/pose
</pre></div>
</div>
<ul class="simple">
<li><p>Let’s see more into the /turtle1/pose topic.</p></li>
<li><p>Luckily the pose information of turtle from the turtlesim is being
published on the topic /turtle1/pose</p></li>
<li><p>To display the pose data, enter the following command…</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>rostopic<span class="w"> </span><span class="nb">echo</span><span class="w"> </span>/turtle1/pose
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="topics.html" class="btn btn-neutral float-left" title="ROS Topics" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../../selectiontask24/selection_task24.html" class="btn btn-neutral float-right" title="Selection Task 2024-25" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, A.T.O.M.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>